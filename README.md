## 疫情传播模拟系统

- 目录
  - 背景介绍
  - 技术栈
  - 建模思路
  - 实验过程
  - 结果分析
  - 防控建议

### 背景介绍

​     为研究新冠病毒在人群中的传播情况，讨论各种防疫措施（佩戴口罩，限制出行，增加医院以及救治速度）对疫情传播的影响。从个人、政府、医疗的三个方面讨论疫情的传播。

### 技术栈

* 前端
* 

### 建模思路

* 具体规则

    单个小球模拟为一个人，小球直径为30px长度，当两人距离为两个身位60px或者发生碰撞时，此时可能发生感染事件。其中，蓝色代表潜伏期，红色代表已经感染，棕色不移动代表死亡，黄色代表此时已康复拥有抗体，黑色代表健康未感染。

* 参数设置

  ​      未戴口罩且与潜伏期的人距离过近或发生碰撞时：有抗体1%感染几率，无抗体5%感染几率。

  ​      未戴口罩且与感染期的人距离过近或发生碰撞时：有抗体5%感染几率，无抗体30%感染几率。

  ​      戴口罩且与潜伏期的人距离过近或发生碰撞时：有抗体0.3%感染几率，无抗体1%感染几率。

  ​      戴口罩且与感染期的人距离过近或发生碰撞时：有抗体3%感染几率，无抗体15感染几率。

  ​      人群可能发生聚集，当小球之间长时间距离过短时候，发生感染的概率自然会大幅度上升。人群移动为随机移动，一共设置为5档。医院开启之后，设置收容速度为3档（慢中快），每次收容数量为5人，医院容纳数量可自主设置。

* 模型建立

     根据上述规则，用JavaScript进行程序编写，并实现了数据的可视化。

     综合考虑程序效率、运行时间，我们的网格采用813*830（单位：px）。

     运行之后，会返回一份报表，我们主要观察分析感染人数、潜伏人数，死亡人数随着时间的变化。

    

  * 主要代码

    * 小球随机移动函数，小球碰到边界后改变移动方向，确保在框内移动。移动的单位为像素点，可以自主设置速度，一共5档。

    ![](C:\Users\Lenovo\Desktop\50d77bbe0fb79fb441f1387fc03b64a.png)

    * 设置感染后潜伏日期为14天，若处于潜伏期且没有到医院进行救治，则小球移动14天后进入感染期，颜色变为红色。

    ![](C:\Users\Lenovo\Desktop\微信图片_20210303175452.png)

    * 假设感染的人不救医导致死亡的概率为0.1%，小球变为棕色表示死亡；不救医而痊愈的概率为0.3%，小球变为黄色表示痊愈；

    ![](C:\Users\Lenovo\Desktop\微信图片_20210303175817.png)

    * 小球碰撞函数，遍历除自己之外的所有小球的位置坐标，判断小之间的位置关系。若发生碰撞，根据当前小球与被撞小球的相对方向，改变当前小球的移动方向

    ![](C:\Users\Lenovo\Desktop\微信图片_20210303181037.png)

    * 传染函数，若发生碰撞或距离太近时，根据不同情况（是否带口罩，是否有抗体，处于潜伏期还是感染期）设置不同的感染几率，若小球被感染，则变为蓝色。

    ![](C:\Users\Lenovo\Desktop\微信图片_20210303182811.png)

    * 医院收纳函数，医院收纳速度共有3档，可以前端自行设置挡位，默认为2档（中等速度）。在1档（最慢速度）下，每3秒收纳5个病人；在2档下，每2秒收纳5个病人；在3档（最快速度）下，每1秒收纳5个病人。

    ![](C:\Users\Lenovo\Desktop\微信图片_20210303184004.png)

    * 医院救治函数，医院救治速度共有3档，可以前端自行设置挡位，默认为2档（中等速度）。假设病人被治愈的几率为20%，治愈后小球变为黄色，代表此时已康复拥有抗体。

    ![](C:\Users\Lenovo\Desktop\微信图片_20210303184800.png)

    * 对前端输入的数据（医院容量，初始感染人数，人群移动速度等）做出规定，如果输入的数字超出规定最大值，纠正或提示。

    ![](C:\Users\Lenovo\Desktop\微信图片_20210303185209.png)

    ![](C:\Users\Lenovo\Desktop\微信图片_20210303185218.png)

    

### 实验过程以及可视化展示

对于 每种情况，我们设置了2~3次实验。

* 是否佩戴口罩

  在其他参数不变的情况下，观察是否佩戴口罩对病情传播的影响，参数设置如下：

  ![](C:\Users\Lenovo\Desktop\图片1.png)

  * 佩戴口罩，感染率为16.7%，死亡率为0%

  ![](C:\Users\Lenovo\Desktop\微信图片_20210303203631.png)

  ![](C:\Users\Lenovo\Desktop\微信图片_20210303202205.png)

     可视化展示：

  <video id="video" controls="" preload="none">
      <source id="mp4" src="C:\Users\Lenovo/有口罩.mp4" type="video/mp4">
  </video>

  * 不佩戴口罩，感染率为34.9%，死亡率为4.3%。

  ![](C:\Users\Lenovo\Desktop\微信图片_20210303204024.png)

    可视化展示：

  <video id="video" controls="" preload="none">
      <source id="mp4" src="C:\Users\Lenovo/无口罩.mp4" type="video/mp4">
  </video>

* 限制出行

   在其他参数不变的情况下，观察是否限制出行对病情传播的影响，参数设置如下：

  ![](C:\Users\Lenovo\Desktop\微信图片_20210303210146.png)

  * 设置人员移动速度为5档（最快），开启人员聚集，感染率为46.1%%，死亡率为18.5%。

  ![](C:\Users\Lenovo\Desktop\微信图片_20210303205955.png)

    可视化截图（小球为棕绿色代表死亡，小球为黄色代表感染后康复）：

  ![](C:\Users\Lenovo\Desktop\微信图片_20210303210001.png)

  * 设置人员移动速度为1档（最慢），关闭人员聚集，感染率为15.4%，死亡人数为17，死亡率为6%。

​      ![](C:\Users\Lenovo\Desktop\微信图片_20210303211109.png)

​         模拟过程截图：（黑色小球表示健康人，蓝色小球表示处于潜伏期）

![](C:\Users\Lenovo\Desktop\微信图片_20210303211402.png)

* 单独医院
* 综合

### 结果分析

* 口罩
* 限制出行
* 医院
* 综合

### 防控建议



